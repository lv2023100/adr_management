  ## ADR（Architecture Decision Record，架構決策紀錄）
  ## Introduction
是一種用於記錄系統或軟體項目中架構決策的文件。它記錄了在系統設計或開發過程中做出的重要架構性決策，並提供了背景、原因、決策和結果的詳細說明。ADR有助於團隊成員理解和記錄決策的脈絡，並提供一個參考點，以便日後查詢和回顧。它們通常是由團隊共同創建和維護的，並在項目的整個生命周期中持續更新。ADR的內容和結構可以根據組織的需求和慣例而有所不同。
- **作品連結**: [ADR架構決策紀錄作品連結](http://64.176.44.232/)
- **裡面帳號guest1沒有編輯權限**，如果需要編輯可以寄Email ( lv2023100@gmail.com ) 索取，我看到會立即回覆，感謝！

  ## 使用的技術
 
- **OpenJDK 21**：JDK 21 是目前 JAVA 最新的 LTS 版本，其中最具吸引力是 Virtual Thread ，只要 Spring boot 3.2 (Tomcat 10) 以上版本透過配置即可使用。
- **Spring Boot**：設計理念為約定大於配置，可藉由最少的組態和自訂來簡化應用程式的部署，並包含第三方程式庫來簡化流程。
- **gRPC**：gRPC 是由 Google 開發的高性能、開源的通用 RPC 框架，用於服務間通信。
- **Axon Framework**：Axon Framework 是一個 Java 框架，提供了構建可擴展、可靠和事件驅動的應用程式所需的基本組件，來幫助開發人員建立基於命令查詢責任分離(CQRS)設計模式。
- **Saga**：Axon Saga 是 Axon Framework 的一個功能，在分布是架構裡，透過確保事務中每一步都可以一個補償機制，在發生錯誤後執行補償事務來確保系統的可用性和最終一致性。
- **CQRS（命令查詢責任分離）**：CQRS 是一種將讀取和寫入操作分開的架構模式，提供更好的可擴展性和維護。
- **Onion Architecture**：洋蔥架構是一種軟體架構模式，它以圍繞業務核心的中心模型結構化代碼，外部圈層包含輸入/輸出邏輯，內部圈層包含業務邏輯。
- **Kubernetes**：Kubernetes 是一個用於自動部署、擴展和管理容器化應用程式的開源平台，我們將使用它來部署和管理我們的微服務應用程式。
- **Istio**：Istio 是一個開源服務網格平台，用於連接、監視和保護微服務之間的通信。
  
 ## 這ADR示例項目嘗試導入了 Domain-driven design（DDD）的概念，介紹如下。
 ## 使用者故事
### 使用者故事 1：管理 ADR 決策紀錄
**角色**：Team Admin  
**需求**：在平台上新增或修改 ADR（Architecture Decision Record）  
**價值**：將架構決策以有組織、可追溯的方式記錄下來，並保留歷史快照。  

**驗收條件**  
- Admin 在 UI 點擊「新增 ADR」並填寫必要欄位後，系統成功建立一筆新的 ADR 紀錄。  
- Admin 編輯 ADR 時，系統自動產生並儲存歷史版本快照，可還原或比對差異。  
- 在 ADR 列表頁能看到所有決策紀錄、當前狀態，以及最近一次更新時間。  

---

### 使用者故事 2：建立與管理團隊
**角色**：系統 Admin／Team Admin  
**需求**：能夠在平台上建立新的 Team 並分配 Member  
**價值**：明確定義組織結構與權限範圍，確保每位成員僅能存取自己所屬的團隊資源。  

**驗收條件**  
- 在「建立團隊」頁面填寫團隊名稱、描述等資訊並確認後，系統新增 Team，並可於「團隊列表」看到。  
- Admin 可在該團隊頁面邀請或指派成員，成功後成員收到通知。  
- 被指派的成員僅能在自己所屬團隊頁面執行編輯/查詢操作，嘗試存取其他團隊時，會顯示「無權限」。  

---

### 使用者故事 3：成員邀請與權限控管
**角色**：Team Member  
**需求**：邀請同事加入自己所屬的 Team  
**價值**：與團隊協作，但同時不能修改其他團隊的資料。  

**驗收條件**  
- Team Member 在「邀請成員」輸入對方帳號或後即可加入。  
- 成為 Team Member 後，可在該團隊範圍內編輯 ADR、查看決策紀錄，但無法對其他團隊之 ADR 進行任何操作。  
- 平台會記錄邀請與授權操作日誌，且 Admin 可查閱。  

---

### 使用者故事 4：紀錄架構決策會議
**角色**：Team Member  
**需求**：將系統架構會議的「背景」、「決策過程」與「結果」記錄到 ADR 平台  
**價值**：未來新成員能快速了解當時的決策脈絡與風險考量。  

**驗收條件**  
- 任一成員可在「新增會議決策」介面填寫會議日期、參與者、背景說明、決策內容與結果等欄位並存檔。  
- 每次存檔（含修改）皆自動建立版本快照，並能在「歷史紀錄」中檢視、比較不同版本的差異。  
- 所有會議決策紀錄可透過關鍵字、日期或團隊進行搜尋與篩選。  


 ## 提取Ubiquitous Language
- **ADR Record（架構決策紀錄）**  
  一種文件，用來記錄一次架構決策的 **背景（Context）、決策內容（Decision）、結果（Consequence）** 以及可能帶來的影響（Implication）。

- **Team（團隊）**  
  根據專案需求所組成的一個工作單位，擁有自己的成員（Member），並對 ADR 記錄的提出與審核負最終責任。

- **Team Member（團隊成員）**  
  隸屬於某一 Team 的個人，具有特定角色和權限，能發起、編輯或審核該 Team 的 ADR Record。

- **ADR History（歷史版本）**  
  某筆 ADR Record 在不同時間點的快照（Snapshot），用於保存每次變更後的完整內容，方便未來回溯、比較和還原。



## 子域（Subdomains）

### ADR Record 核心子領域

在我們的系統中，ADR Record 子域負責管理和記錄架構決策紀錄（Architecture Decision Records，ADR）。這包括創建、存儲、查詢和更新有關我們系統架構決策的信息，並可以用ADR History查找修改紀錄。

### Team 支持子領域

Team 子域代表我們組織中的團隊。這包括團隊的創建、管理和分配，以及團隊之間的協作和溝通。

### Member 支持子領域

Member 子域負責管理我們組織中的成員信息。這包括成員的註冊、個人資料、權限管理等。

